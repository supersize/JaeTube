{"version":3,"sources":["_actions/user_actions.js","_actions/types.js","components/Config.js","hoc/auth.js","components/views/LandingPage/LandingPage.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/SideBar/SideBar.js","components/views/Footer/Footer.js","components/views/SearchingPage/SearchingVideoPage.js","components/views/VideoUploadPage/VideoUploadPage.js","components/views/VideoViewPage/sections/SideVideo.js","components/views/VideoViewPage/sections/Subscribe.js","components/views/VideoViewPage/sections/LikeDislikes.js","components/views/VideoViewPage/sections/SingleComment.js","components/views/VideoViewPage/sections/ReplyComment.js","components/views/VideoViewPage/sections/Comment.js","components/views/VideoViewPage/VideoViewPage.js","components/views/MySubscriptionListPage/MySubscriptionListpage.js","components/views/MyRecordListPage/MyRecordListPage.js","components/views/MyVideoListPage/MyVideoListPage.js","components/views/MyInfoPage/PasswordCheckModal.js","components/views/MyInfoPage/MyInfoPage.js","components/views/MyCommentListPage/MyCommentListPage.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["auth","type","payload","axios","get","then","response","data","SpecificComponent","option","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","isAuth","isAdmin","history","push","Title","Typography","Meta","Card","LandingPage","useState","Video","setVideo","Axios","res","success","console","log","alert","videos","renderCards","map","video","index","minute","Math","floor","duration","seconds","lg","md","xs","style","position","href","_id","width","src","thumbnail","className","avatar","writer","image","title","description","name","marginLeft","views","moment","updatedAt","format","margin","level","gutter","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","min","onSubmit","values","setSubmitting","setTimeout","dataToSubmit","post","loginUser","loginSuccess","window","setItem","userId","removeItem","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","Item","id","prefix","UserOutlined","color","placeholder","value","onChange","onBlur","LockOutlined","fontSize","border","padding","borderRadius","checked","float","htmlType","minWidth","disabled","formItemLayout","labelCol","span","sm","wrapperCol","tailFormItemLayout","offset","RegisterPage","lastname","confirmPassword","oneOf","unix","registerUser","errmsg","label","validateStatus","onClick","Search","require","Input","LeftMenu","display","YoutubeOutlined","paddingLeft","allowClear","onSearch","params","keywords","JSON","stringify","location","userData","mode","SubMenu","key","icon","LoginOutlined","AuditOutlined","SettingOutlined","ItemGroup","LogoutOutlined","status","NavBar","SideBar","items2","FolderOpenOutlined","DatabaseOutlined","PlaySquareOutlined","UploadOutlined","React","createElement","height","borderRight","items","Footer","flexDirection","alignItems","justifyContent","YoutubeFilled","SearchingVideoPage","PageTitle","setPageTitle","searchKeyword","searchedVideos","parse","TextArea","PrivateOptions","CategoryOptions","VideoUploadPage","VideoTitle","setVideoTitle","Description","setDescription","setPrivate","setCategory","ThumbnailPath","form","document","uploadVideoForm","changeFile","event","getVideoCover","file","seekTo","Promise","resolve","reject","videoPlayer","setAttribute","URL","createObjectURL","load","addEventListener","ex","currentTime","canvas","videoWidth","videoHeight","ctx","getContext","drawImage","toBlob","blob","target","files","cover","thumbnailImg","getElementsByTagName","e","preventDefault","maxWidth","textAlign","marginBottom","encType","click","PlusOutlined","alt","currentTarget","maxLength","rows","item","size","SideVideo","SideVideos","setSideVideos","videoId","renderSideVideo","marginRight","Fragment","marginTop","Subscribe","SubsribeNumber","setSubsribeNumber","Subscribed","setSubscribed","userTo","subscribeNumber","subscriber","userFrom","subscribed","backgroundColor","fontWeight","textTransform","subscription","LikeDislikes","Likes","setLikes","LikeAction","setLikeAction","Dislikes","setDislikes","DislikeAction","setDislikeAction","likeDislike","commentId","likesCnt","likes","length","like","dislikesCnt","dislikes","dislike","paddingRight","LikeOutlined","theme","cursor","DislikeOutlined","SingleComment","OpenReply","setOpenReply","CommentValue","setCommentValue","comment","content","responseTo","renewComments","result","actions","author","ReplyComment","commentList","parentCmtId","CommentCnt","setCommentCnt","OpenReplyComment","setOpenReplyComment","commentCnt","renderReplyComment","Comment","VideoViewPage","CommentList","setCommentList","match","record","viewerId","subscribeButton","filePath","controls","newComment","concat","MySubscriptionListpage","Channel","setChannel","param","channels","defaultActiveKey","tabPosition","channel","writerCard","videoCards","createdAt","children","MyRecordListPage","Record","setRecord","recordList","MyVideoListPage","DeleteOutlined","confirm","reload","deleteVideo","PasswordCheckModal","open","setOpen","confirmLoading","setConfirmLoading","setModalText","Form","useForm","currentPassword","useWatch","onOk","onCancel","method","rules","message","MyInfoPage","Users","setUsers","enableReinitialize","readOnly","MyCommentListPage","Header","Layout","Content","Sider","App","fallback","background","minHeight","exact","path","component","Auth","LoginPage","MySubscriptionListPage","Boolean","hostname","rootReducer","combineReducers","action","register","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc3cbe82.chunk.js","sourcesContent":["import axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport function loginUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/login`,dataToSubmit)\n                .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth(){\n    const request = axios.get(`${USER_SERVER}/auth`)\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser(){\n    const request = axios.get(`${USER_SERVER}/logout`)\n    .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (SpecificComponent, option, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n            //To know client current status, send Auth request \n            dispatch(auth()).then(response => {\n                //Not Loggined in Status \n                if (!response.payload.isAuth) {\n                    if (option) {\n                        props.history.push('/login')\n                        // document.location.href='/login'\n                    }\n                //Loggined in Status \n                } else {\n                    //supposed to be Admin page, but not admin person wants to go inside\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                        // document.location.href='/'\n                    }\n                    else {\n                        //false : login users can't approach\n                        if (option === false) {\n                            props.history.push('/')\n                            // document.location.href='/'\n                        }\n                    }\n                }\n            })\n\n        }, [])\n\n        return (\n            <SpecificComponent {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import { Row, Typography, Card, Col, Avatar } from 'antd';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction LandingPage() {\n    const [Video, setVideo] = useState([]);\n\n    // useEffect : dom이 최초 생성시 안에 코드가 실행됨.\n    // 두번째 파라미터가 없다면 코드 계속실행됨. 그냥 빈칸이라면 최초 한번만 실행됨. \n    useEffect(() => {\n      Axios.get('/api/video/getVideos')\n        .then(res => {\n            if(!res.data.success) {\n                console.log(\"video fail log : \", res.data);\n                return alert(\"failed to load videos\")\n            }\n            \n            setVideo(res.data.videos);\n        })\n    }, [])\n\n    const renderCards = Video.map((video, index) => {\n        var minute = Math.floor(video.duration / 60);\n        var seconds = Math.floor(video.duration - minute * 60)\n        return (\n            <Col lg={6} md={10} xs={24}>\n                <div style={{position: 'relative'}}>\n                    <a href={`/video/${video._id}`}>\n                        {/* <img style={{width: '100%'}} src={`http://localhost:3001/${video.thumbnail}`} /> */}\n                        <img style={{width: '100%'}} src={`http://18.117.21.81:3001/${video.thumbnail}`} />\n                        <div className='duration'>\n                            <span>{minute} : {seconds}</span>\n                        </div>\n                    </a>\n                </div>\n                <br/>\n                <Meta avatar={<Avatar src={video.writer.image}/>} title={video.title} description=\"\"/>\n                <span>{video.writer.name}</span>\n                <span style={{ marginLeft: '3rem'}}>{video.views} views</span> - <span>{moment(video.updatedAt).format(\"MMM do YYYY\")}</span>\n            </Col>\n        );\n    }) \n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                Recommended\n            </Title>\n            <hr/>\n            <Row gutter={[32, 16]}>\n                {renderCards}\n            </Row>\n        </div>\n    )\n}\n\nexport default LandingPage\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Input, Button, Checkbox, Typography } from 'antd';\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState('')\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe)\n  };\n\n  const initialEmail = localStorage.getItem(\"rememberMe\") ? localStorage.getItem(\"rememberMe\") : '';\n\n  return (\n    <Formik\n      initialValues={{\n        email: initialEmail,\n        password: '',\n      }}\n      validationSchema = {Yup.object().shape({\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then(response => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem('userId', response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem('rememberMe', values.email);\n                } else {\n                  localStorage.removeItem('rememberMe');\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage('Check out your Account or Password again')\n              }\n            })\n            .catch(err => {\n              setFormErrorMessage('Check out your Account or Password again')\n              setTimeout(() => {\n                setFormErrorMessage(\"\")\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: '350px' }}>\n\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  prefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label ><p style={{ color: '#ff0000bf', fontSize: '0.7rem', border: '1px solid', padding: '1rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\n              )}\n\n              <Form.Item>\n                <Checkbox id=\"rememberMe\" onChange={handleRememberMe} checked={rememberMe} >Remember me</Checkbox>\n                <a className=\"login-form-forgot\" href=\"/reset_user\" style={{ float: 'right' }}>\n                  forgot password\n                  </a>\n                <div>\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\n                    Log in\n                </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default withRouter(LoginPage);\n\n\n","import React from \"react\";\nimport moment from \"moment\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\n\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n  return (\n\n    <Formik\n      initialValues={{\n        email: '',\n        lastname: '',\n        name: '',\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema={Yup.object().shape({\n        name: Yup.string()\n          .required('Name is required'),\n        lastname: Yup.string()\n          .required('Last Name is required'),\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\n          .required('Confirm Password is required')\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            name: values.name,\n            lastname: values.lastname,\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`\n          };\n\n          dispatch(registerUser(dataToSubmit)).then(response => {\n            if (response.payload.success) {\n              props.history.push(\"/login\");\n            } else {\n              alert(response.payload.err.errmsg)\n            }\n          })\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset,\n        } = props;\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n              <Form.Item required label=\"Name\">\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter your name\"\n                  type=\"text\"\n                  value={values.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.name && touched.name && (\n                  <div className=\"input-feedback\">{errors.name}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Last Name\">\n                <Input\n                  id=\"lastname\"\n                  placeholder=\"Enter your Last Name\"\n                  type=\"text\"\n                  value={values.lastname}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.lastname && touched.lastname ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.lastname && touched.lastname && (\n                  <div className=\"input-feedback\">{errors.lastname}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Email\" validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Password\" validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\">\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default RegisterPage\n","import React from 'react';\nimport { Typography, Input } from 'antd';\nimport { YoutubeOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom'\n\nconst qs = require('qs');\nconst { Search } = Input;\nconst { Title } = Typography; \n\nfunction LeftMenu(props) {\n  const onSearch = (values) => {\n    axios.get('/api/video/search', {\n        params : {keywords: values}})\n      .then(res => {\n        if(!res.data.success) {\n            return alert(\"failed to load videos\")\n        }\n  \n        window.localStorage.setItem('searchKeyword', values);\n        window.localStorage.setItem('searchedVideos', JSON.stringify(res.data));\n        window.location.href=\"/searchVideo\";\n        \n      })\n  }\n\n  return (\n    <div style={{display : 'inline-block', width: '80%'}}>\n      <div style={{ minWidth: '200px', float : 'left', fontSize: '20px', padding: '19px 20px' }}>\n        <a href=\"/\">\n          <Title level={2} type={\"danger\"}>\n            <YoutubeOutlined />\n            <span style={{ color: 'black', paddingLeft: '4px'}}>JaeTube</span>\n          </Title>\n        </a>\n      </div> \n      <div style={{padding: '20px 0px 0px 15px', display: 'inline-block', width: '50%'}}>\n        <Search\n          placeholder=\"input search text\"\n          allowClear\n          onSearch={onSearch}\n        />\n      </div>   \n    </div>\n  )\n}\n\nexport default LeftMenu","import React from 'react';\nimport { Menu } from 'antd';\nimport { UserOutlined, SettingOutlined, LikeOutlined, LoginOutlined, LogoutOutlined, AuditOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode='horizontal'>\n        <Menu.SubMenu key=\"SubMenu\" \n            icon={<UserOutlined />}>\n          <Menu.Item key=\"login\" icon={<LoginOutlined />}>\n            <a  href='/login'>login</a>\n          </Menu.Item>\n          <Menu.Item key=\"signup\" icon={<AuditOutlined/>}>\n            <a  href=\"/register\">Signup</a>\n          </Menu.Item>\n        </Menu.SubMenu>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode=\"horizontal\">\n        <Menu.SubMenu key=\"SubMenu\" \n            icon={<SettingOutlined />}>\n          <Menu.ItemGroup title=\"My Info\" \n              icon={<UserOutlined />}>\n                <Menu.Item key=\"info\" icon={<UserOutlined />}>\n                  <a href='/user/changeInfo'>Change my info</a>\n                </Menu.Item>\n                {/* <Menu.Item key=\"like\" icon={<LikeOutlined />}>\n                  Like or Dislike\n                </Menu.Item> */}\n            </Menu.ItemGroup>\n          <Menu.Item key=\"logout\" icon={<LogoutOutlined />}>\n            <a onClick={logoutHandler}>Logout</a>\n          </Menu.Item>\n        </Menu.SubMenu>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);\n\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  return (\n    <div style={{display: 'inline-block', width : '100%'}}>\n      <LeftMenu /> \n      <div style={{ display: 'inline-block'}}>\n      <RightMenu />\n      </div>  \n    </div>\n  )\n}\n\nexport default NavBar","import React from 'react';\nimport { Menu } from 'antd';\nimport { FolderOpenOutlined, DatabaseOutlined, PlaySquareOutlined, \n          CommentOutlined, UploadOutlined } from '@ant-design/icons';\n\n\n\nfunction SideBar() {\n  const items2 = \n    [\n      {icon: FolderOpenOutlined, title: (<a href='/mySubscription/list'>Subscription</a>)}, \n      {icon: DatabaseOutlined, title: (<a href='/record/list'>Record</a>)},\n      {icon: PlaySquareOutlined, title: (<a href='/myVideo/list'>My Videos</a>)},\n      // {icon: CommentOutlined, title: (<a href='/comment/list'>My Comments</a>)},\n      {icon: UploadOutlined, title: (<a href=\"/video/upload\">Upload a video</a>)}\n    ].map(\n      (value, index) => {\n        return {\n          key: index + 1,\n          icon: React.createElement(value.icon),\n          label: value.title\n        };\n    },\n  );\n  \n\n  return (\n    <Menu\n          mode=\"inline\"\n          style={{ height: '100%', borderRight: 0 }}\n          items={items2}\n        />\n  )\n}\n\nexport default SideBar","import React from 'react'\nimport { YoutubeFilled } from '@ant-design/icons';\n\nfunction Footer() {\n    return (\n        <div style={{\n            height: '80px', display: 'flex',\n            flexDirection: 'column', alignItems: 'center',\n            justifyContent: 'center', fontSize:'1rem'\n        }}>\n           <p> Welcome to JaeTube  <YoutubeFilled /></p>\n        </div>\n    )\n}\n\nexport default Footer\n","import { Row, Typography, Card, Col, Avatar } from 'antd';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction SearchingVideoPage() {\n    const [Video, setVideo] = useState([]);\n    const [PageTitle, setPageTitle] = useState([]);\n\n    // useEffect : dom이 최초 생성시 안에 코드가 실행됨.\n    // 두번째 파라미터가 없다면 코드 계속실행됨. 그냥 빈칸이라면 최초 한번만 실행됨. \n    useEffect(() => {\n        const searchKeyword = window.localStorage.getItem(\"searchKeyword\");\n        const searchedVideos = JSON.parse(window.localStorage.getItem(\"searchedVideos\"));\n        if (!searchKeyword && !searchedVideos) {\n            setPageTitle(\"There is no result...\")\n            return;\n        }\n\n\n\n        setPageTitle(\"searched by '\"+ searchKeyword +\"'\")\n        setVideo(searchedVideos.videos);\n    }, [])\n    \n    // console.log(\"ctxPath : \", location);\n\n    const renderCards = Video.map((video, index) => {\n        var minute = Math.floor(video.duration / 60);\n        var seconds = Math.floor(video.duration - minute * 60)\n        return (\n            <Col lg={6} md={10} xs={24}>\n                <div style={{position: 'relative'}}>\n                    <a href={`/video/${video._id}`}>\n                        <img style={{width: '100%'}} src={`http://18.117.21.81:3001/${video.thumbnail}`} />\n                        <div className='duration'>\n                            <span>{minute} : {seconds}</span>\n                        </div>\n                    </a>\n                </div>\n                <br/>\n                <Meta avatar={<Avatar src={video.writer.image}/>} title={video.title} description=\"\"/>\n                <span>{video.writer.name}</span>\n                <span style={{ marginLeft: '3rem'}}>{video.views} views</span> - <span>{moment(video.updatedAt).format(\"MMM do YYYY\")}</span>\n            </Col>\n        );\n    }) \n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                {PageTitle}\n            </Title>\n            <hr/>\n            <Row gutter={[32, 16]}>\n                {renderCards}\n            </Row>\n        </div>\n    )\n}\n\nexport default SearchingVideoPage\n","import React, { useState } from \"react\";\n// rfce 입력시 자동 생성됨.\nimport {Typography, Button, Form, message, Input, Upload} from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport Dropzone from 'react-dropzone';\nimport Axios from \"axios\";\nimport {useSelector} from 'react-redux'\n\nconst { TextArea } = Input;\nconst { Title } = Typography;\n\nconst PrivateOptions = [\n    {value: 0, label: \"Private\"},\n    {value: 1, label: \"Public\"}\n]\n\nconst CategoryOptions = [\n    {value: 0, label: \"Film & Animation\"},\n    {value: 1, label: \"Autos & Vehicles\"},\n    {value: 2, label: \"Music\"},\n    {value: 3, label: \"Pets & Animals\"},\n    {value: 4, label: \"Sports\"},\n    {value: \"etc\", label: \"ETC\"}\n]\n\n\nfunction VideoUploadPage(props) {\n    const user = useSelector(state => state.user);\n\n    const [VideoTitle, setVideoTitle] = useState(\"\")\n    const [Description, setDescription] = useState(\"\")\n    const [Private, setPrivate] = useState(0)\n    const [Category, setCategory] = useState(\"Film & Animation\")\n    const [ThumbnailPath, setThumbnailPath] = useState(\"\")\n    \n    const onTitleChange = (e) => {\n        setVideoTitle(e.currentTarget.value);\n    }\n    \n    const onDescriptionChange = (e) => {\n        setDescription(e.currentTarget.value);\n    }\n    \n    const onPrivateChange = (e) => {\n        setPrivate(e.currentTarget.value);\n    }\n    \n    const onCategoryChange = (e) => {\n        setCategory(e.currentTarget.value);\n    }\n    \n    let form = document.uploadVideoForm;\n\n    const clickFileDiv = () => {\n        form.file.click();\n    }\n\n    const changeFile = async (event) => {\n        let file = event.target.files[0];\n\n        function getVideoCover(file, seekTo = 0.0) {\n            // file validation\n            if (file.type !== 'video/mp4') {\n                alert('only mp4 is allowed');        \n                return false;    \n            }\n\n            // console.log(\"getting video cover for file: \", file);\n            return new Promise((resolve, reject) => {\n                // load the file to a video player\n                const videoPlayer = document.createElement('video');\n                videoPlayer.setAttribute('src', URL.createObjectURL(file));\n                videoPlayer.load();\n                videoPlayer.addEventListener('error', (ex) => {\n                    reject(\"error when loading video file\", ex);\n                });\n                // load metadata of the video to get video duration and dimensions\n                videoPlayer.addEventListener('loadedmetadata', () => {\n                    // seek to user defined timestamp (in seconds) if possible\n                    if (videoPlayer.duration < seekTo) {\n                        reject(\"video is too short.\");\n                        return;\n                    }\n                    // delay seeking or else 'seeked' event won't fire on Safari\n                    setTimeout(() => {\n                      videoPlayer.currentTime = seekTo;\n                    }, 200);\n                    // extract video thumbnail once seeking is complete\n                    videoPlayer.addEventListener('seeked', () => {\n                        console.log('video is now paused at %ss.', seekTo);\n                        // define a canvas to have the same dimension as the video\n                        const canvas = document.createElement(\"canvas\");\n                        canvas.width = videoPlayer.videoWidth;\n                        canvas.height = videoPlayer.videoHeight;\n                        // draw the video frame to canvas\n                        const ctx = canvas.getContext(\"2d\");\n                        ctx.drawImage(videoPlayer, 0, 0, canvas.width, canvas.height);\n                        // return the canvas image as a blob\n                        ctx.canvas.toBlob(\n                            blob => {\n                                resolve(blob);\n                            },\n                            \"image/png\",\n                            0.75 /* quality */\n                        );\n                    });\n                });\n            });\n        }\n\n        try {\n            // get the frame at 1.5 seconds of the video file\n            const cover = await getVideoCover(file, 2.5);\n            let thumbnailImg = document.getElementsByTagName(\"img\")[0]\n            thumbnailImg.src = URL.createObjectURL(cover);\n            thumbnailImg.style.display ='inline';\n            \n        } catch (ex) {\n            console.log(\"ERROR: \", ex);\n        }\n    }\n    \n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        alert('sorry, \"video submit\" is not available on production mode. Server cannot handle it.');\n        return false;\n\n        if (!form.file) {\n            alert(\"Please upload a video.\");\n            return false;\n        }\n\n        let file = form.file;\n        const maxSize = 5 * 1024 * 1024;\n        const fileSize = file.size;\n        if (fileSize > maxSize) {\n            alert(\"Please upload file under 5MB\");\n            return false;\n        }\n\n        if (!form.title.value.trim()) {\n            alert(\"Please write title of your video.\");\n            return false;\n        }\n\n        if (!form.description.value.trim()) {\n            alert(\"Please write the description of your video.\");\n            return false;\n        }\n\n        if (!form.category.value) {\n            alert(\"Please select the category of your video.\");\n            return false;\n        }\n\n        // return false;\n\n        let formData = new FormData;\n        const config = {\n            header : {'Content-Type' : 'multipart/form-data'}\n        }\n        formData.append(\"file\", form.file.files[0])\n\n        Axios.post('/api/video/uploadfiles', formData, config)\n            .then((res) => {\n                if (res.data.success) {\n                    let variable = {\n                        url : res.data.url,\n                        fileName: res.data.fileName\n                    }\n\n                    Axios.post('/api/video/thumbnail', variable )\n                        .then(res => {\n                            if(res.data.success) {\n                                const video = {\n                                    writer : user.userData._id,\n                                    title: VideoTitle,\n                                    description: Description,\n                                    privacy: form.privacy.value,\n                                    filePath: variable.url,\n                                    category: Category,\n                                    duration: res.data.fileDuration,\n                                    thumbnail: res.data.url\n                                }\n                        \n                                Axios.post('/api/video/uploadVideo', video)\n                                    .then(res => {\n                                        if(res.data.success) {\n                                            message.success(\"uploaded successfully.\");\n                        \n                                            setTimeout(() => {\n                                                props.history.push('/');\n                                            }, 1500);\n                                        }\n                                        else {\n                                            alert(\"failed to upload video\");\n                                        }\n                                    })\n                            }\n                            else {\n                                alert(\"filed uploading thumbnail.\")\n                            }\n                        })\n                } \n                else {\n                    alert(\"failed to upload the video\")\n                }\n            })\n    }\n    \n    return (\n        <div style={{maxWidth: '700px', margin: '1rem'}}>\n            <div style={{textAlign: 'center ', marginBottom: '1rem'}}>\n                <Title level={2}>Upload Video</Title>\n            </div>\n\n            <form name=\"uploadVideoForm\" onSubmit={onSubmit} encType=\"multipart/form-data\" >\n                <div style={{ display:'flex', justifyContent:'space-between', height: '240px'}} >\n                    <div style={{width: '300px', height:'100%', border: '1px solid lightgray', display:'flex', \n                        alignItems:'center', justifyContent:'center'}} onClick={clickFileDiv}>\n                            <input name=\"file\" type=\"file\" style={{display:'none'}}\n                                onChange={changeFile}/>\n                            <PlusOutlined style={{fontSize:'3rem'}} />\n                    </div>\n                    {/* \n                    <Dropzone onDrop={onDrop} multiple={false} maxSize={1000000000}> \n                        {({getRootProps, getInputProps}) => (\n                            <div style={{width: '300px', height:'100%', border: '1px solid lightgray', display:'flex', \n                                alignItems:'center', justifyContent:'center'}} {...getRootProps()}>\n                                    <input name=\"file\" {...getInputProps()}/>\n                                    <PlusOutlined style={{fontSize:'3rem'}} />\n                            </div>\n                        )}\n                    </Dropzone>\n                    */}\n                    <div>\n                        <img style={{width: '300px', height: '100%', display: \"none\"}} \n                            src={`http://18.117.21.81:3001/${ThumbnailPath}`} alt=\"thumbnail\"/>\n                    </div>\n                    {\n                    /*ThumbnailPath && // {ThumbnailPath && ~~} : ThumbnailPath이 있을때만 ~~ 실행해라. \n                        <div>\n                            <img style={{width: '300px', height: '100%'}} \n                                src={`http://localhost:3001/${ThumbnailPath}`} alt=\"thumbnail\"/>\n                        </div>\n                    */\n                    }\n                </div>\n                <br/><br/>\n                <label>Title  </label>\n                <input name=\"title\" onChange={onTitleChange} value={VideoTitle}/>\n                <br/><br/>\n                <label>Description</label>\n                <TextArea name=\"description\" maxLength={800} rows={7}\n                    onChange={onDescriptionChange} value={Description}></TextArea>\n                <br/><br/>\n                <select name=\"privacy\" value=\"1\" onChange={onPrivateChange}>\n                    {PrivateOptions.map((item, index) => (\n                        <option key={index} value={item.value}>{item.label}</option>\n                    ))}\n                </select>\n                <br/><br/>\n                <select name=\"category\" onChange={onCategoryChange}>\n                    <option value=\"\">Please select category...</option>\n                    {CategoryOptions.map((item, index) => (\n                        <option key={index} \n                            value={item.value}>{item.label}</option>\n                    ))}\n                </select>\n                <br/><br/>\n                <Button type=\"primary\" size=\"large\"  onClick={onSubmit}>Submit</Button>\n            </form>\n        </div>\n    )\n}\n\nexport default VideoUploadPage","import React, {useEffect, useState} from 'react'\nimport Axios from 'axios';\n\nfunction SideVideo(props) {\n    const [SideVideos, setSideVideos] = useState([])\n\n    useEffect(() => {\n        console.log(\"thisvideo : \", props.videoId);\n        let targetVideo = {\n            videoId : props.videoId\n        }\n        Axios.get('/api/video/getVideos', {params : {videoId : props.videoId}})\n          .then(res => {\n              if(!res.data.success) {\n                  return alert(\"failed to load videos\")\n              }\n              \n              setSideVideos(res.data.videos);\n          })\n      }, [])\n    \n      const renderSideVideo = SideVideos.map((SideVideo, index) => {\n        var minute = Math.floor(SideVideo.duration / 60);\n        var seconds = Math.floor(SideVideo.duration - minute * 60)\n        console.log(\"videoId : \", SideVideo._id);\n        return (\n            <div key={index} style={{ display: 'flex', marginBottom: \"1rem\", padding: '0.2rem' }}>\n                <div style={{ width: '40%', marginRight: \"1rem\"}}>\n                    <a href={`/video/${SideVideo._id}`}>\n                        <img style={{ width: '100%', height: '100%'}} src={`http://18.117.21.81:3001/${SideVideo.thumbnail}`} />\n                    </a>\n                </div>\n\n                <div style={{ width: \"50%\" }}>\n                    <a href=\"#\" style={{color: 'gray'}}>\n                        <span style={{ fontSize: '1rem', color: 'black'}}>\n                            {SideVideo.title}\n                        </span><br/>\n                        <span>{SideVideo.writer.name}</span><br/>\n                        <span>{SideVideo.views} views</span><br/>\n                        <span>{minute} : {seconds}</span>\n                    </a>\n                </div>\n            </div>\n        )\n      });\n\n  return (\n    <React.Fragment>\n        <div style={{ marginTop: '3rem'}}/>\n\n        {renderSideVideo}\n    </React.Fragment>\n  )\n}\n\nexport default SideVideo","import Axios from 'axios'\nimport React, {useState, useEffect} from 'react'\n\nfunction Subscribe(props) {\n    const [SubsribeNumber, setSubsribeNumber] = useState(0)\n    const [Subscribed, setSubscribed] = useState(false)\n\n    let userTo = {\n        userTo : props.userTo\n    }\n\n    useEffect(() => {\n        Axios.post('/api/subscribe/subscribeNumber', userTo )\n            .then(res => {\n                if(!res.data.success) {\n                    alert(\"failed to get the number of subscribers\");\n                    return false;\n                }\n\n                setSubsribeNumber(res.data.subscribeNumber);\n            })\n\n        let subscriber = {\n            userTo: props.userTo, userFrom: props.userFrom\n        }\n\n        Axios.post('/api/subscribe/subscribed', subscriber)\n            .then(res => {\n                if (!res.data.success) {\n                    alert(\"failed to get info that you subscried this or not \")\n                    return false; \n                }\n\n                setSubscribed(res.data.subscribed);\n            })\n    }, [])\n    \n    const onSubscribe = () => {\n        let subscription = {\n            userTo: props.userTo, userFrom: props.userFrom\n        }\n\n        // subscribing\n        if (Subscribed) {\n            Axios.post('/api/subscribe/unsubscribe', subscription)\n                .then((res) => {\n                    if (!res.data.success) {\n                        alert(\"failed to unsubscribe \")\n                        return false; \n                    }\n\n                    setSubsribeNumber(SubsribeNumber - 1);\n                    setSubscribed(!Subscribed);\n                });\n            }\n            else {\n                Axios.post('/api/subscribe/subscribe', subscription)\n                    .then((res) => {\n                        if (!res.data.success) {\n                            alert(\"failed to unsubscribe \")\n                            return false; \n                        }   \n\n                        setSubsribeNumber(SubsribeNumber + 1);\n                        setSubscribed(!Subscribed);\n                    });\n        }\n    }\n\n  return (\n    <div>\n        <a href=\"#\" style={{ backgroundColor: `${Subscribed ? '#AAAAAA' : '#CC0000'}`, borderRadius: '4px', color: 'white',\n            padding: '10px 16px', fontWeight: '500', fontSize: '1rem', textTransform: 'uppercase' }} \n            onClick={onSubscribe}\n        >\n            {SubsribeNumber} {Subscribed ? 'Subscribed' : 'Subscribe'}\n        </a>\n    </div>\n  )\n}\n\nexport default Subscribe","import React, { useEffect, useState } from 'react'\nimport { Tooltip } from \"antd\";\nimport { LikeOutlined, DislikeOutlined } from '@ant-design/icons';\nimport Axios from 'axios';\n\nfunction LikeDislikes(props) {\n    const [Likes, setLikes] = useState(0);\n    const [LikeAction, setLikeAction] = useState(null);\n    const [Dislikes, setDislikes] = useState(0)\n    const [DislikeAction, setDislikeAction] = useState(null);\n\n    let likeDislike = {\n        userId: localStorage.getItem('userId')\n    }\n    \n    if (props.videoId) {\n        likeDislike.videoId = props.videoId;\n    }\n    else if (props.commentId) {\n        likeDislike.commentId = props.commentId;\n    }\n\n    useEffect(() => {\n\n        Axios.post('/api/like/likes', likeDislike)\n            .then(res => {\n                if(!res.data.success) {\n                    alert(\"failed to get likes\");\n                    return false;\n                }\n\n                // counting likes\n                const likesCnt = res.data.likes.length;\n                setLikes(likesCnt);\n\n                // already liked or not\n                res.data.likes.map(like => {\n                    if (like.userId === likeDislike.userId) {\n                        setLikeAction('liked')\n                    }\n                })\n            });\n\n        Axios.post('/api/like/dislikes', likeDislike)\n            .then(res => {\n                if(!res.data.success) {\n                    alert(\"failed to get dislikes\");\n                    return false;\n                }\n\n                // counting likes\n                const dislikesCnt = res.data.dislikes.length;\n                setDislikes(dislikesCnt);\n\n                // already disliked or not\n                res.data.dislikes.map(dislike => {\n                    if (dislike.userId === likeDislike.userId) {\n                        setDislikeAction('disliked')\n                    }\n                })\n            });\n    }, [])\n\n    const doLike = (e) => {\n        if (!LikeAction) {\n            Axios.post('/api/like/upLike', likeDislike)\n                .then(res => {\n                    if(!res.data.success) {\n                        alert(\"failed to do a like\");\n                        return false;\n                    }\n\n                    setLikes(Likes + 1);\n                    setLikeAction('liked');\n\n                    if (DislikeAction) {\n                        setDislikeAction(null);\n                        setDislikes(Dislikes - 1);\n                    }\n                })\n        }\n        else {\n            Axios.post('/api/like/unlike', likeDislike)\n                .then(res => {\n                    if(!res.data.success) {\n                        alert(\"failed to unlike\");\n                        return false;\n                    }\n\n                    setLikes(Likes - 1);\n                    setLikeAction(null);\n                })\n        }\n    }\n\n    const doDislike = (e) => {\n        if (!DislikeAction) {\n            Axios.post('/api/like/upDislike', likeDislike)\n                .then(res => {\n                    if(!res.data.success) {\n                        alert(\"failed to do a like\");\n                        return false;\n                    }\n\n                    setDislikes(Dislikes + 1);\n                    setDislikeAction('disliked');\n\n                    if (LikeAction) {\n                        setLikeAction(null);\n                        setLikes(Likes - 1);\n                    }\n                })\n        }\n        else {\n            Axios.post('/api/like/unDislike', likeDislike)\n                .then(res => {\n                    if(!res.data.success) {\n                        alert(\"failed to unDislike\");\n                        return false;\n                    }\n\n                    setDislikes(Dislikes - 1);\n                    setDislikeAction(null);\n                })\n        }\n    }\n\n  return (\n    <div>\n        <span key=\"comment-basic-like\" style={{ paddingRight: '8px' }}>\n            <Tooltip title=\"Like\">\n                <LikeOutlined theme={LikeAction === 'liked' ? 'filled' : 'outlined' }\n                    onClick={doLike}  />\n            </Tooltip>\n            <span style={{ paddingLeft: \"8px\", cursor: 'auto'}}>{Likes}</span>\n        </span>\n        <span key=\"comment-basic-dislike\" style={{ paddingRight: '8px' }}>\n            <Tooltip title=\"Dislike\">\n                <DislikeOutlined theme={DislikeAction === 'disliked' ? 'filled' : 'outlined' }\n                    onClick={doDislike}  />\n            </Tooltip>\n            <span style={{ paddingLeft: \"8px\", cursor: 'auto'}}>{Dislikes}</span>\n        </span>\n\n    </div>\n  )\n}\n\nexport default LikeDislikes","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Comment, Button, Input, Avatar } from \"antd\";\nimport Axios from 'axios';\nimport LikeDislikes from './LikeDislikes';\n\nconst { TextArea } = Input;\n\nfunction SingleComment(props) {\n    const [OpenReply, setOpenReply] = useState(false)\n    const user = useSelector(state => state.user )\n    const [CommentValue, setCommentValue] = useState(\"\")\n\n    const onClickReplyOpen = (e) => {\n        setOpenReply(!OpenReply)\n    }\n\n    const onHandleChange = (e) => {\n        e.preventDefault();\n\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        let comment = {\n            content: CommentValue,\n            writer: user.userData._id,\n            videoId: props.comment.videoId,\n            responseTo: props.comment._id\n        }\n\n        Axios.post('/api/comment/saveComment', comment)\n            .then((res) => {\n                if (!res.data.success) {\n                    alert(\"failed to save your comment.\")\n                    return false;\n                }\n\n                props.renewComments(res.data.result);\n                setCommentValue(\"\")\n                setOpenReply(false)\n            });\n    }\n\n    const actions = [\n        <LikeDislikes commentId={props.comment._id} />,\n        <span onClick={onClickReplyOpen} key=\"comment-basic-reply-to\">Reply to</span>\n    ]\n\n  return (\n    <div>\n        <Comment \n            actions={actions}\n            author={props.comment.writer.name}\n            avatar={<Avatar src={props.comment.writer.image} alt=''/>}\n            content ={<p>{props.comment.content}</p>}\n        />\n\n        {OpenReply &&\n            <form style={{ display: 'flex', padding: '0 0 20px 20px'}} onSubmit={onSubmit}>\n                <textarea style={{ width: '100%', borderRadius: '5px' }}\n                    onChange={onHandleChange}\n                    value={CommentValue}\n                    placeholder={`reply to @${props.comment.writer.name}.`}\n                />\n                <br/>\n                <button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</button>\n            </form>\n        }\n    </div>\n  )\n}\n\nexport default SingleComment","import React, { useState, useEffect } from 'react'\nimport SingleComment from './SingleComment'\n\nfunction ReplyComment(props) {\n    const commentList = props.commentList;\n    const parentCmtId = props.parentCmtId;\n    const [CommentCnt, setCommentCnt] = useState(0)\n    const [OpenReplyComment, setOpenReplyComment] = useState(false)\n\n    let commentCnt = 0;\n\n    useEffect(() => {\n      commentList.map(comment => {\n        if (comment.responseTo === props.parentCmtId) {\n            commentCnt++;\n        }\n      })\n\n      setCommentCnt(commentCnt);\n    }, [commentList]) // \"commentList\" in the last parameter means useEffect should be restarted when \"commentList\" has got changed.\n    \n    \n    const renderReplyComment = (parentCmtId) => \n        commentList.map((comment, index) => {\n            return (\n                <React.Fragment>\n                    {comment.responseTo === parentCmtId && \n                        <div key={index} style={{ width: '80%', marginLeft: '40px' }} >\n                            <SingleComment renewComments={props.renewComments} comment={comment} />\n                        </div>\n                    }\n                </React.Fragment>\n            )\n        })\n    \n\n    const onHandleChange = (e) => {\n        e.preventDefault();\n        setOpenReplyComment(!OpenReplyComment)\n    }\n\n  return (\n    <div>  \n        {CommentCnt > 0 &&\n            <a onClick={onHandleChange} style={{ fontSize: '14px', margin: 0, color: 'gray' }} >\n                View {CommentCnt} more comments\n            </a>\n        }\n        \n        {OpenReplyComment && \n            renderReplyComment(parentCmtId)\n        }\n    </div>\n  )\n}\n\nexport default ReplyComment","import Axios from 'axios'\nimport React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport SingleComment from './SingleComment'\nimport ReplyComment from './ReplyComment'\n\nfunction Comment(props) {\n    const commentList = props.commentList;\n    const user = useSelector(state => state.user )\n    const [CommentValue, setCommentValue] = useState(\"\")\n    console.log(\"comment user :\", user);\n    const handleChange = (e) => {\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n        \n        let comment = {\n            content: CommentValue,\n            writer: user.userData._id,\n            videoId: props.videoId\n        }\n\n        Axios.post('/api/comment/saveComment', comment)\n            .then((res) => {\n                if (!res.data.success) {\n                    alert(\"failed to save your comment.\")\n                    return false;\n                }\n\n                console.log(\"success to comment : \", res.data.result)\n                props.renewComments(res.data.result);\n                setCommentValue(\"\")\n            });\n    }\n\n\n  return (\n    <div>\n        <br/>\n        <p>Replies</p>\n        <hr/>\n                            \n        {commentList && commentList.map((comment, index) => {\n            return (!comment.responseTo &&\n                <React.Fragment key={index}>\n                    <SingleComment renewComments={props.renewComments} comment={comment} />\n                    <ReplyComment parentCmtId={comment._id} commentList={commentList} />\n                </React.Fragment>\n            )\n        })}\n        \n        <form style={{ display: 'flex'}} onSubmit={onSubmit}>\n            <textarea style={{ width: '100%', borderRadius: '5px' }}\n                onChange={handleChange}\n                value={CommentValue}\n                placeholder=\"write your comment.\"\n            />\n            <br/>\n            <button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</button>\n        </form>\n\n    </div>\n  )\n}\n\nexport default Comment","import React, {useEffect, useState} from 'react'\nimport { Row, Col, List, Avatar } from \"antd\";\nimport Axios from 'axios';\nimport SideVideo from './sections/SideVideo';\nimport Subscribe from './sections/Subscribe';\nimport Comment from './sections/Comment';\nimport LikeDislikes from './sections/LikeDislikes';\nimport {useSelector} from 'react-redux'\n\nfunction VideoViewPage(props) {\n    const user = useSelector(state => state.user );\n    \n    const [Video, setVideo] = useState([])\n    const [CommentList, setCommentList] = useState([])\n\n    const video = {\n        videoId: props.match.params.videoId\n    }\n\n    useEffect(() => {\n        // getting video info\n        Axios.post('/api/video/getVideo', video)\n            .then(res => {\n                if(!res.data.success) {\n                    return alert(\"failed to find video\");\n                }\n                setVideo(res.data.video)\n            })\n\n        // getting commentList\n        Axios.post('/api/comment/commentList', video)\n            .then((res) => {\n                if(!res.data.success) {\n                    return alert(\"failed to get a comment List\");\n                }\n    \n                setCommentList(res.data.commentList)\n            })\n\n        // add record\n        if (user.userData) {\n            let id = user.userData._id;\n            if (id) {\n                const record = {\n                    viewerId : id,\n                    video : props.match.params.videoId\n                }\n                Axios.post('/api/record/saveRecord', record)\n                    .then((res) => {\n                        if(!res.data.success) {\n                            console.log(\"res.data : \", res);\n                            alert(res);\n                            return alert(\"failed to save a record\");\n                        }\n        \n                        alert(\"record saved!\")\n            \n                    })\n            }\n        }\n        \n    }, [user])\n\n    // renew commentList when a new comment is submited. \n    const renewComments = (newComment) => {\n        setCommentList(CommentList.concat(newComment))\n    }\n    \n    \n    if(Video.writer) {\n        const subscribeButton =\n            Video.writer._id !== localStorage.getItem('userId') && <Subscribe userTo={Video.writer._id} userFrom={localStorage.getItem('userId')} />\n\n        return (\n                <Row gutter={[16, 16]}>\n                    <Col lg={18} xs={24}>\n                        <div style={{ width: '100%', padding: '3rem 4rem'}}>\n                            <video style={{ width: '100%', height: '50vh'}} src={`http://18.117.21.81:3001/${Video.filePath}`} controls/>\n                            <List.Item\n                                actions={[ <LikeDislikes videoId={video.videoId} />, subscribeButton]}>\n                                    <List.Item.Meta \n                                        avatar={<Avatar src={Video.writer.image}/>}\n                                        title={Video.writer.name}\n                                        description={Video.description}\n                                        />\n                            </List.Item>\n                            <Comment commentList={CommentList} videoId={video.videoId} renewComments={renewComments} />\n                        </div>\n                    </Col>\n                    <Col lg={6} xs={24}>\n                        <SideVideo videoId={video.videoId}/>\n                    </Col>\n                </Row>\n\n            )\n    }\n    else {\n        return(<div>... Loading</div>)\n    }\n}\n\nexport default VideoViewPage","import { Row, Typography, Card, Col, Avatar, Tabs } from 'antd';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction MySubscriptionListpage() {\n    const [Channel, setChannel] = useState([]);\n\n    const param =  {userFrom : localStorage.getItem('userId') }\n    useEffect(() => {\n      Axios.post('/api/video/getSubscriptionVideoList', param)\n        .then(res => {\n            if(!res.data.success) {\n                return console.log(\"failed to load videos\")\n            }\n            \n            setChannel(res.data.channels);\n        })\n    }, [])\n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                My subscribing Channel\n            </Title>\n            <hr/>\n            \n                <Tabs\n                    defaultActiveKey=\"1\"\n                    tabPosition=\"left\"\n                    style={{ height: \"75vh\" }}\n                    items={\n                        Channel.map((channel, index) => {\n                            const writerCard = \n                                <div style={{display: 'flex'}}>\n                                    <Meta avatar={<Avatar src={channel.userTo.image}/>} />\n                                    <span>{channel.userTo.name}</span>\n                                </div>;\n\n                            const videoCards = channel.videos.map((video, index) => {\n                                var minute = Math.floor(video.duration / 60);\n                                var seconds = Math.floor(video.duration - minute * 60)\n\n                                return (\n                                    <Col lg={6} md={8} xs={24}>\n                                        <div style={{position: 'relative'}}>\n                                            <a href={`/video/${video._id}`}>\n                                                <img style={{width: '100%'}} src={`http://18.117.21.81:3001/${video.thumbnail}`} />\n                                                <div className='duration'>\n                                                    <span>{minute} : {seconds}</span>\n                                                </div>\n                                            </a>\n                                        </div>\n                                        <br/>\n                                        <Meta avatar={<Avatar src={channel.userTo.image}/>} title={video.title} description=\"\"/>\n                                        <span>{channel.userTo.name}</span>\n                                        <span style={{ marginLeft: '3rem'}}>{video.views} views</span> - <span>{moment(video.createdAt).format(\"MMM do YY\")}</span>\n                                    </Col>\n                                );\n                            })\n                            return {\n                                // label: video.writer.name,\n                                label: writerCard,\n                                key: channel.userTo.name,\n                                children : <Row gutter={[32, 16]}>{videoCards}</Row>\n                            };\n                    }) \n                \n                    }\n                />\n        </div>\n    )\n}\n\nexport default MySubscriptionListpage","import { Row, Typography, Card, Col, Avatar } from 'antd';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction MyRecordListPage() {\n    const [Record, setRecord] = useState([]);\n    \n    const param =  {userId : localStorage.getItem('userId') }\n    useEffect(() => {\n      Axios.post('/api/record/getMyVideoViewedRecordList', param)\n        .then(res => {\n            if(!res.data.success) {\n                return alert(\"failed to load records\")\n            }\n            \n            setRecord(res.data.recordList);\n        })\n    }, [])\n\n    /*\n    */\n    const renderCards = Record.map((record, index) => {\n        if (record.video == null) {\n            return false;\n        }\n        var minute = Math.floor(record.video.duration / 60);\n        var seconds = Math.floor(record.video.duration - minute * 60)\n\n        return (\n            <Col lg={6} md={8} xs={24}>\n                <div style={{position: 'relative'}}>\n                    <a href={`/video/${record.video._id}`}>\n                        <img style={{width: '100%'}} src={`http://18.117.21.81:3001/${record.video.thumbnail}`} />\n                        <div className='duration'>\n                            <span>{minute} : {seconds}</span>\n                        </div>\n                    </a>\n                </div>\n                <br/>\n                <Meta avatar={<Avatar src={record.video.writer.image}/>} title={record.video.title} description=\"\"/>\n                <span>{record.video.writer.name}</span>\n                <span style={{ marginLeft: '3rem'}}>{record.video.views} views</span> - <span>{moment(record.video.updatedAt).format(\"MMM do YY\")}</span>\n            </Col>\n        );\n    }) \n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                Record\n            </Title>\n            <hr/>\n            <Row gutter={[32, 16]}>\n                {renderCards}\n            </Row>\n        </div>\n    )\n}\n\nexport default MyRecordListPage","import { Row, Typography, Card, Col, Avatar } from 'antd';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\nimport { DeleteOutlined } from '@ant-design/icons';\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction MyVideoListPage() {\n    const [Video, setVideo] = useState([]);\n\n    const param =  {userId : localStorage.getItem('userId') }\n    console.log(\" MyVideo \");\n    useEffect(() => {\n      Axios.post('/api/video/getMyVideos', param)\n        .then(res => {\n            if(!res.data.success) {\n                return alert(\"failed to load videos\")\n            }\n            \n            console.log(\"get my Video List!\", res.data);\n            setVideo(res.data.videos);\n        })\n    }, [])\n\n    const deleteVideo = (videoId, title) => {\n        if (!window.confirm('Are you sure to remove this video?')) {\n            return false;\n        }\n        const param = {_id : videoId}\n        Axios.post('/api/video/remove', param)\n            .then(res => {\n                if(!res.data.success) {\n                    return alert(\"failed to remove the video\")\n                }\n                \n                alert('\"'+ title +'\"is successfully removed!s');\n                window.location.reload();\n            })\n    }\n\n    const renderCards = Video.map((video, index) => {\n        var minute = Math.floor(video.duration / 60);\n        var seconds = Math.floor(video.duration - minute * 60)\n\n        return (\n            <Col lg={6} md={8} xs={24}>\n                <div style={{position: 'relative'}}>\n                    <div className='delete-btn'><DeleteOutlined onClick={() => deleteVideo(video._id, video.title)}/></div>\n                    <a href={`/video/${video._id}`}>\n                        <img style={{width: '100%'}} src={`http://18.117.21.81:3001/${video.thumbnail}`} />\n                        <div className='duration'>\n                            <span>{minute} : {seconds}</span>\n                        </div>\n                    </a>\n                </div>\n                <br/>\n                <Meta avatar={<Avatar src={video.writer.image}/>} title={video.title} description=\"\"/>\n                <span>{video.writer.name}</span>\n                <span style={{ marginLeft: '3rem'}}>{video.views} views</span> - <span>{moment(video.updatedAt).format(\"MMM do YY\")}</span>\n            </Col>\n        );\n    }) \n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                My Vdieo Page\n            </Title>\n            <hr/>\n            <Row gutter={[32, 16]}>\n                {renderCards}\n            </Row>\n        </div>\n    )\n}\n\nexport default MyVideoListPage","import React, {useEffect, useState} from \"react\";\nimport Axios from 'axios';\nimport {\n  Form,\n  Input,\n  Button,\n  Modal\n} from 'antd';\n\nfunction PasswordCheckModal(props) {\n  const [Password, setPassword] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [modalText, setModalText] = useState('Content of the modal');\n  const [form] = Form.useForm();\n  const currentPassword = Form.useWatch('password', form);\n  \n  const showModal = () => {\n    setOpen(true);\n  };\n  \n  const handleOk = () => {\n    if (!currentPassword) {\n      alert(\"Password can't be empty.\");\n      return false;\n    }\n\n    props.values.currentPassword = currentPassword;\n    props.handleSubmit(props.values);\n\n    setConfirmLoading(true);\n    setModalText('The modal will be closed after two seconds');\n    \n    setTimeout(() => {\n      setOpen(false);\n      setConfirmLoading(false);\n    }, 2000);\n  };\n\n  const handleCancel = () => {\n    console.log('Clicked cancel button');\n    setOpen(false);\n  };  \n\n  \n  \n  return (\n    <>\n      <Button type=\"primary\" onClick={showModal}>\n        Open Modal with async logic\n      </Button>\n      <Modal\n        title=\"Write your current password.\"\n        open={open}\n        onOk={handleOk}\n        confirmLoading={confirmLoading}\n        onCancel={handleCancel}\n      >\n        <Form form={form} method='post'>\n          <Form.Item name=\"password\"  label=\"Password\" \n            rules={[{required : true, message: 'Please input your current password!'}]}>\n            <Input type=\"password\" />\n          </Form.Item>\n          {/* <Input type=\"password\" name='password' onChange={(password) => setPassword({password})}/> */}\n        </Form>\n      </Modal>\n    </>\n  );\n};\n\n\nexport default PasswordCheckModal\n","import React, {useEffect, useState} from \"react\";\nimport moment from \"moment\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport Axios from 'axios';\nimport PasswordCheckModal from \"./PasswordCheckModal\"\n\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nfunction MyInfoPage(props) {\n  const [Users, setUsers] = useState([]);\n  const dispatch = useDispatch();\n  \n  const param =  {email : localStorage.getItem('rememberMe') }\n  useEffect(() => {\n    Axios.post('/api/users/getUserInfo', param)\n      .then(res => {\n        if(!res.data.success) {\n          console.log(res);\n          return alert(res.data.message);\n        }\n\n        setUsers(res.data.user);\n        console.log(\"setUser : \", res.data.user);\n      })\n  }, [])\n\n  if (!Users.name) {\n    return <p>Loading user Info...</p>\n  }\n\n  return (\n    <Formik\n      enableReinitialize = {true}\n      initialValues={{\n        email: Users.email,\n        lastname: Users.lastname,\n        name: Users.name,\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema={Yup.object().shape({\n        name: Yup.string()\n          .required('Name is required'),\n        lastname: Yup.string()\n          .required('Last Name is required'),\n        email: Yup.string()\n          .email('Email is invalid')\n          .required('Email is required'),\n        password: Yup.string()\n          .min(6, 'Password must be at least 6 characters')\n          .required('Password is required'),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\n          .required('Confirm Password is required')\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            name: values.name,\n            lastname: values.lastname,\n            currentPassword: values.currentPassword\n          };\n          console.log(\"dataToSubmit : \", values);\n\n          /**\n           * \n           */\n          Axios.post('/api/users/updateUserInfo', dataToSubmit)\n            .then(res => {\n              if(!res.data.success) {\n                return alert(res.data.message)\n              }\n\n              alert(\"Info changed successfully.\")\n              props.history.push(\"/\");\n            })\n\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          dirty,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          handleReset\n        } = props;\n        return (\n          <div className=\"app\">\n            <h3>My Info</h3>\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n              <Form.Item required label=\"Name\">\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter your name\"\n                  type=\"text\"\n                  value={values.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.name && touched.name && (\n                  <div className=\"input-feedback\">{errors.name}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Last Name\">\n                <Input\n                  id=\"lastname\"\n                  placeholder=\"Enter your Last Name\"\n                  type=\"text\"\n                  value={values.lastname}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.lastname && touched.lastname ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.lastname && touched.lastname && (\n                  <div className=\"input-feedback\">{errors.lastname}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Email\" validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\n                <Input\n                  id=\"email\"\n                  type=\"email\" readOnly disabled\n                  value={values.email}\n                />\n              </Form.Item>\n\n              <Form.Item required label=\"Password\" validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\">\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <PasswordCheckModal handleSubmit={handleSubmit} values={values}/>\n                {/* <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                  Submit\n                </Button> */}\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default MyInfoPage\n","import { Row, Typography, Card, Col, Avatar } from 'antd';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport moment from \"moment\";\n\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction MyCommentListPage() {\n    const [Video, setVideo] = useState([]);\n\n    \n    const param =  {userFrom : localStorage.getItem('userId') }\n    console.log(\" userFrom : \", param);\n    useEffect(() => {\n      Axios.post('/api/video/getSubscriptionVideoList', param)\n        .then(res => {\n            if(!res.data.success) {\n                return alert(\"failed to load videos\")\n            }\n            \n            console.log(\"get Subscription Video List!\", res.data);\n            setVideo(res.data.videos);\n        })\n    }, [])\n\n    const renderCards = Video.map((video, index) => {\n        var minute = Math.floor(video.duration / 60);\n        var seconds = Math.floor(video.duration - minute * 60)\n\n        return (\n            <Col lg={6} md={8} xs={24}>\n                <div style={{position: 'relative'}}>\n                    <a href={`/video/${video._id}`}>\n                        <img style={{width: '100%'}} src={`http://localhost:5000/${video.thumbnail}`} />\n                        <div className='duration'>\n                            <span>{minute} : {seconds}</span>\n                        </div>\n                    </a>\n                </div>\n                <br/>\n                <Meta avatar={<Avatar src={video.writer.image}/>} title={video.title} description=\"\"/>\n                <span>{video.writer.name}</span>\n                <span style={{ marginLeft: '3rem'}}>{video.views} views</span> - <span>{moment(video.createdAt).format(\"MMM do YY\")}</span>\n            </Col>\n        );\n    }) \n\n    return (\n        <div style={{width: '85%', margin: '1rem'}}>\n            <Title level={2}>\n                My Comments\n            </Title>\n            <hr/>\n            <Row gutter={[32, 16]}>\n                \n                {renderCards}\n                \n\n            </Row>\n        </div>\n    )\n}\n\nexport default MyCommentListPage","import React, { Suspense } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport SideBar from \"./views/SideBar/SideBar\";\nimport Footer from \"./views/Footer/Footer\"\nimport SearchingVideoPage from \"./views/SearchingPage/SearchingVideoPage\"\nimport VideoUploadPage from \"./views/VideoUploadPage/VideoUploadPage\"\nimport VideoViewPage from \"./views/VideoViewPage/VideoViewPage\"\nimport MySubscriptionListPage from \"./views/MySubscriptionListPage/MySubscriptionListpage\"\nimport MyRecordListPage from \"./views/MyRecordListPage/MyRecordListPage\"\nimport MyVideoListPage from \"./views/MyVideoListPage/MyVideoListPage\"\nimport MyInfoPage from \"./views/MyInfoPage/MyInfoPage\"\nimport MyCommentListPage from \"./views/MyCommentListPage/MyCommentListPage\"\nimport { Layout } from 'antd'\n\nconst { Header, Content, Sider } = Layout;\n\n//null   Anyone Can approach\n//true   only log-in user can approach\n//false  log-in user can't approach\n\nfunction App() {\n  return (\n    <Suspense fallback={(<div>Loading...</div>)}>\n      <Header style={{padding : '0px', background : '#fff'}}  >\n          <NavBar />\n      </Header>\n      <Layout>\n        <Sider>\n          <SideBar />\n        </Sider>\n        <Layout>\n          <Content className=\"site-layout-background\" style={{background : '#fff'}}>\n            <div style={{minHeight: 'calc(100vh - 80px)'}}>\n              <Switch>\n                <Route exact path=\"/\" component={Auth(LandingPage, null)} />\n                <Route exact path=\"/SearchVideo\" component={Auth(SearchingVideoPage, null)} />\n                <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n                <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n                <Route exact path=\"/mySubscription/list\" component={Auth(MySubscriptionListPage, true)} />\n                <Route exact path=\"/record/list\" component={Auth(MyRecordListPage, true)} />\n                <Route exact path=\"/myVideo/list\" component={Auth(MyVideoListPage, true)} />\n                <Route exact path=\"/comment/list\" component={Auth(MyCommentListPage, true)} />\n                <Route exact path=\"/video/upload\" component={Auth(VideoUploadPage, true)} />\n                <Route exact path=\"/video/:videoId\" component={Auth(VideoViewPage, null)} />\n                <Route exact path=\"/user/changeInfo\" component={Auth(MyInfoPage, true)} />\n              </Switch>\n            </div>\n          </Content>\n        </Layout>\n\n      </Layout>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n \n\nexport default function(state={}, action){\n    switch(action.type){\n        case REGISTER_USER:\n            return {...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return {...state, userData: action.payload }\n        case LOGOUT_USER:\n            return {...state }\n        default:\n            return state;\n    }\n}","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\nimport 'core-js';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n            <BrowserRouter>\n                <App />\n            </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}